<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title></title>
<link rel="stylesheet" href="plugins/layui/css/layui.css" media="all" />
<link rel="stylesheet" href="plugins/font-awesome/css/font-awesome.min.css">

</head>

<body>

<div class="layui-field-box">
    <div class="layui-tab">
        <div class="layui-tab-item layui-show">
            <!--<div class="layui-field-box">
                <div class="layui-input-inline" style="width:220px"><input placeholder="角色名称" class="layui-input" type="text"></div>
                <div class="layui-btn"><i class="fa fa-search"></i>查询</div>
                <div class="layui-btn role-add"><i class="layui-icon">&#xe608;</i>&nbsp;新增</div>
            </div>-->
            <div class="layui-field-box layui-form">
                <table class="layui-table">
                    <thead>
                        <tr>
                            <th>角色编码</th>
                            <th>角色类型</th>
                            <th>角色名称</th>
                            <th>备注</th>
                            <th width="102">操作</th>
                        </tr>
                    </thead>
                    <tbody id="role_list">
                        
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!--新增/修改角色信息-->
<div class="layui-field-box layui-form" id="role-set" lay-filter="pop-form" style="padding:20px 10px 0 20px;display:none">
    <div class="layui-form-item">
        <label class="layui-form-label">角色编码：</label>
        <div class="layui-input-inline"><input class="layui-input" value="4566" disabled type="text"></div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">角色类型：</label>
        <div class="layui-input-inline"><select class="layui-input"><option value="1">店铺</option><option value="2">中心</option></select></div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">角色名称：</label>
        <div class="layui-input-inline"><input class="layui-input" placeholder="请输入角色名称" type="text"></div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">备注：</label>
        <div class="layui-input-inline"><input class="layui-input" placeholder="请输入备注内容" type="text"></div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">权限：</label>
        <div class="layui-input-inline" id="box_div">
        	<input lay-skin="primary" title="用户中心" type="checkbox" checked="checked"><input lay-skin="primary" title="拍卖设置" type="checkbox"><input lay-skin="primary" title="会员管理" type="checkbox">
        </div>
    </div>
    
</div>

<script type="text/javascript" src="plugins/layui/layui.all.js"></script>
<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="js/common/common_sup.js"></script>
<!--<script type="text/javascript" src="js/ztree/jquery.ztree.all.min.js">-->

<script>
	
layui.use(['element','table'], function(){
	
	var $ = layui.jquery ,element = layui.element;
	
	$(function(){
		//初始化
		role_set();
		
		//新增或修改
		/*$(".role-add").on('click', function() {
			layer.open({
				title: '角色设置',
				type: 1,
				content: $('#role-set'),
				shade: false,
				area: ['378px','432px'],
				btn: ['确定', '取消']
			})
		})*/
		
	})
	  
	 //角色列表
	function role_set() {
		var url = "/boss/managerRole/selectAllRole";
		var data = sup_ajax(url, data, false);
		if(data == null || data.success == false || data.data.count==0){
			$('#user_list').html('<tr><td colspan="5" style="text-align:center;height:200px">返回数据异常，没有角色信息！</td></tr>');
			return;
		}
		
		$.each(data.data,function(i,r){
			var role_list = data.data[i].roleList;
			for (var j = 0; j < role_list.length; j++) {
				$('#role_list').append('<tr>' +
					'<td>'+role_list[j].id+'</td> ' +
					'<td><a href="javascript:;" class="layui-btn layui-btn-primary layui-btn-xs">'+r.typeName+'</a></td> ' +
					'<td>'+role_list[j].roleName+'</td> ' +
					'<td>'+role_list[j].roleDesc+'</td> ' +
					//'<td><a href="javascript:;" onclick="up_role('+role_list[j].id+')" class="layui-btn layui-btn-xs role-add">修改权限</a><a href="javascript:;" class="layui-btn layui-btn-danger layui-btn-xs del">删除</a></td></tr>')
					'<td><a href="javascript:;" onclick="up_role('+role_list[j].id+')" class="layui-btn layui-btn-xs role-add">修改权限</a></td></tr>')
			}
		  })
	 }
	
  
});
function up_role(id){
	layer.full(layer.open({
                title: '修改角色权限',
                type: 2,
                shade: 0,//不显示遮罩
                content: 'set-role-add.html?id='+id
            }));
	
}
</script>

</body>
</html>