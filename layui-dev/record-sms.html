<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="plugins/layui/css/layui.css" media="all" />
		<link rel="stylesheet" href="plugins/font-awesome/css/font-awesome.min.css">
	</head>

	<body class="layui-field-box layui-form">
          <div class="layui-field-box">
          	  <div class="layui-input-inline" style="width:200px"><input placeholder="时间" id="date" class="layui-input" type="text"></div>
              <div class="layui-input-inline"><input id="phone" placeholder="手机号/消息内容" class="layui-input" type="text"></div>
              <div class="layui-input-inline" style="width:130px">
                  <select class="layui-input" id="send-status">
                      <option value="0">发送状态</option>
                      <option value="1">成功</option>
                      <option value="2">失败</option>
                  </select>
              </div>
              <div data-type="getCheckData" id="search" class="layui-btn"><i class="fa fa-search"></i>查询</div>
          </div>
          <div class="layui-field-box">
              <table class="layui-table">
                  <thead>
                      <tr>
                          <th>所属店铺</th>
                          <th>消息类型</th>
                          <th>发送手机号</th>
                          <th>发送内容</th>
                          <th>状态</th>
                          <th>时间</th>
                      </tr>
                  </thead>
                  <tbody>
                       <!--<tr>
                          <td>成都博恩</td>
                          <td>验证码</td>
                          <td>18910437712</td>
                          <td>【验证码】547894</td>
                          <td>发送成功</td>
                          <td>2019/1/1 12:10:20</td>
                       </tr>-->
                       <tr>
                          <td colspan="6" style="text-align:center;height:200px">没有短信发送记录！</td>
                       </tr>
                  </tbody>
              </table>
          </div>

	</body>
    
    <script type="text/javascript" src="plugins/layui/layui.all.js"></script>
    <script>
	layui.use('table', function(){
	  var table = layui.table;
	  var $ = layui.$;
	  var laydate = layui.laydate;
	  laydate.render({
		elem: '#date',
		range: true
	  }); 
	  
	 
	
	/*开始查询*/
	  active = {
		getCheckData: function(){
		var time = $("#date").val();
		var send_status = $("#send-status").val();
		var phone = $("#phone").val();
		/*在此处添加手机号的校验  */
		var phone_check=/^1\d{10}$/gi;
		if(!phone_check.test(phone))
		{
			return;
		}
				//执行重载
				table.reload('shop-tab',{
					page: {
					  curr: 1 //重新从第 1 页开始
					},where: { 	
						send_status:send_status,
						time:time,
						phone:phone
					}
				});   
			
		}
	  };
	
	 /*绑定查询事件*/
	  $('#search').on('click', function(){
		var type = $(this).data('type');
		active[type] ? active[type].call(this) : 	'';
	  });
	  
	  
	});
	</script>

</html>